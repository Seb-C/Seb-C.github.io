<?xml version="1.0" encoding="UTF-8" ?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>S√©bastien CAPARROS</title>
		<link>http://www.sebastien.caparros.me/</link>
		<language>en</language>
		<description>Some developer's blog</description>
		<atom:link xmlns:atom="http://www.w3.org/2005/Atom" rel="self" type="application/rss+xml" href="http://localhost/feed.php" />
		<lastBuildDate>2017-04-06T12:00:00</lastBuildDate>
		
					<item>
				<title>The comments are back</title>
				<link>http://www.sebastien.caparros.me/comments-are-back.html</link>
				<guid>http://www.sebastien.caparros.me/comments-are-back.html</guid>
				<description>&lt;time datetime=&quot;2017-04-06T12:00:00&quot;&gt;06/04/2017 at 12:00:00&lt;/time&gt;
&lt;h1&gt;The comments are back&lt;/h1&gt;

&lt;p&gt;
    The comments were removed from this blog since I started to host it on GitHub pages. I just added a new one using Disqus.
&lt;/p&gt;
&lt;p&gt;
    I can't say I'm really comfortable with the idea of adding a third party dependency to my blog, but it's a very convenient solution.
&lt;/p&gt;
&lt;p&gt;
    I'm also aware of the privacy matter. That's why I made it so it's disabled by default, and clicking on the &quot;Show comments&quot; button is required to enable the Disquss plugin.
&lt;/p&gt;
</description>
				<pubDate>2017-04-06T12:00:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>The blog has moved to a new domain</title>
				<link>http://www.sebastien.caparros.me/new-domain.html</link>
				<guid>http://www.sebastien.caparros.me/new-domain.html</guid>
				<description>&lt;time datetime=&quot;2017-04-04T12:00:00&quot;&gt;04/04/2017 at 12:00:00&lt;/time&gt;
&lt;h1&gt;The blog has moved to a new domain&lt;/h1&gt;

&lt;p&gt;
    I just moved this blog to a new domain. It's now available at &lt;strong&gt;http://www.sebastien.caparros.me/&lt;/strong&gt; instead of &lt;strong&gt;http://www.sebastien-caparros.name/&lt;/strong&gt;.
&lt;/p&gt;
</description>
				<pubDate>2017-04-04T12:00:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Blogging in English</title>
				<link>http://www.sebastien.caparros.me/blogging-in-english.html</link>
				<guid>http://www.sebastien.caparros.me/blogging-in-english.html</guid>
				<description>&lt;time datetime=&quot;2017-04-03T13:49:00&quot;&gt;03/04/2017 at 13:49:00&lt;/time&gt;
&lt;h1&gt;Blogging in English&lt;/h1&gt;

&lt;p&gt;
    Since the beginning, this blog was written in French, because it's my native language. At this time, I also wasn't very confident with my English level.
&lt;/p&gt;
&lt;p&gt;
    I have decided that I will now write new articles in English instead of French. I translated the main parts of the page (like menus, title... yeah, this blog doesn't have much üòÇ). I probably will also translate the old articles in the future, but for now, it will stay in French.
&lt;/p&gt;
</description>
				<pubDate>2017-04-03T13:49:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>D√©m√©nagement du site</title>
				<link>http://www.sebastien.caparros.me/demenagement-du-site.html</link>
				<guid>http://www.sebastien.caparros.me/demenagement-du-site.html</guid>
				<description>&lt;time datetime=&quot;2016-01-03T21:09:00&quot;&gt;03/01/2016 at 21:09:00&lt;/time&gt;
&lt;h1&gt;D√©m√©nagement du site&lt;/h1&gt;

&lt;p&gt;Vous avez peut-√™tre remarqu√© que le site est rest√© inaccessible une dizaine de jours. J'ai en effet eu un souci avec la carte SD du Raspberry PI qui a l√¢ch√©e. √áa tombe presque bien, car j'avais l'intention depuis quelque temps de revenir sur un h√©bergement &quot;normal&quot;, c'est √† dire pas chez moi.&lt;/p&gt;

&lt;p&gt;C'est sympathique de l'h√©berger chez soi, mais √ßa pose aussi quelques contraintes et coups de stress au quotidien : quand il faut red√©marrer sa box, couper le courant, d√©m√©nager...&lt;/p&gt;

&lt;p&gt;Je voulais n√©anmoins une solution simplissime √©tant donn√© le peu de visiteurs que j'ai. J'ai donc opt√© pour un site purement statique, qui est h√©berge sur &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt;. L'avantage, c'est que m√™me mon site est &lt;a href=&quot;https://github.com/Seb-C/seb-c.github.io&quot;&gt;open source&lt;/a&gt;. L'inconv√©nient, c'est qu'il n'y a plus de commentaires possibles dans l'imm√©diat (et je ne souhaite pas adopter une solution ext√©rieure comme Disqus). N'h√©sitez pas √† me contacter par email malgr√© tout (le lien de contact est en bas de page).&lt;/p&gt;

&lt;p&gt;Si vous √™tes abonn√© aux RSS, pensez √† mettre √† jour le lien !&lt;/p&gt;
</description>
				<pubDate>2016-01-03T21:09:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Une classe String en PHP ?</title>
				<link>http://www.sebastien.caparros.me/classe-string-php.html</link>
				<guid>http://www.sebastien.caparros.me/classe-string-php.html</guid>
				<description>&lt;time datetime=&quot;2015-07-02T20:18:00&quot;&gt;02/07/2015 at 20:18:00&lt;/time&gt;
&lt;h1&gt;Une classe String en PHP ?&lt;/h1&gt;

&lt;p&gt;
	Je souhaitais depuis quelque temps avoir en PHP une API plus propre pour g√©rer les cha√Ænes de caract√®res. Difficile en effet de nier que l'API native - bien que tr√®s compl√®te - est tr√®s mal foutue (je ne sais pas ce que je ferais sans la doc ...) et difficile √† utiliser de mani√®re optimale :&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
		Aucune convention de nommage : certaines fonctions se nomment &lt;code&gt;str_machin&lt;/code&gt; alors que d'autres se nomment &lt;code&gt;strmachin&lt;/code&gt; et d'autres simplement &lt;code&gt;machin&lt;/code&gt;.&lt;/li&gt;
	&lt;li&gt;
		Des noms totalement abscons : bon courage pour lire un code utilisant all√®grement du &lt;code&gt;strspn&lt;/code&gt;, &lt;code&gt;strtok&lt;/code&gt;, &lt;code&gt;strrchr&lt;/code&gt;, &lt;code&gt;strpbrk&lt;/code&gt;, &lt;code&gt;strstr&lt;/code&gt;, &lt;code&gt;strtr&lt;/code&gt; ou encore&amp;nbsp;&lt;code&gt;strnatcasecmp&lt;/code&gt;. D'apr√®s mon exp√©rience, √ßa finit (malheureusement) presque toujours en mode bricolage plut√¥t que passer une heure dans la doc (dommage parce qu'on peut faire des choses assez √©l√©gantes avec une API aussi compl√®te).&lt;/li&gt;
	&lt;li&gt;
		Certaines fonctions peuvent √™tre utilis√©es de mani√®re sensible ou insensible √† la casse (par exemple &lt;code&gt;str_replace&lt;/code&gt; vs &lt;code&gt;str_ireplace&lt;/code&gt;). C'est plut√¥t une bonne chose, mais √ßa aurait √©t√© plus simple √† retenir en passant un bool√©en.&lt;/li&gt;
	&lt;li&gt;
		Sans conna√Ætre le langage, savez vous comment &lt;code&gt;splitter&lt;/code&gt; une cha√Æne de caract√®res ? Il existe une fonction &lt;code&gt;split&lt;/code&gt;, mais elle est obsol√®te et agit sur les expressions rationelles. Il existe aussi la fonction &lt;code&gt;preg_split&lt;/code&gt; pour les expressions r√©guli√®res. La fonction &lt;code&gt;str_split&lt;/code&gt; alors ? Non plus, car elle permet uniquement de d√©couper une cha√Æne en fonction d'une certaine longueur. Il faut utiliser &lt;code&gt;explode&lt;/code&gt; pour faire un &lt;code&gt;split&lt;/code&gt;&amp;nbsp;conventionnel.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
	J'ai donc cr√©√© une classe intitul√©e &lt;a href=&quot;documents/nicestring.php.tar.gz&quot;&gt;NiceString&lt;/a&gt; (le mot cl√© &quot;String&quot; n'est pas r√©serv√© par le langage, mais √ßa ne me semble pas tr√®s prudent non plus de l'utiliser) que je partage sur &lt;a href=&quot;https://github.com/Seb-C/NiceString.php&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
	On y retrouve les m√©thodes classiques de ce genre de classe, que je vous laisse d√©couvrir (je me suis beaucoup inspir√© de Java), mais je me suis surtout amus√© avec les diff√©rentes m√©thodes et classes magiques de PHP. J'insiste sur le c√¥t√© exp√©rimental, je l'ai fait surtout pour le fun, c'est tr√®s probablement lent, et c'est horrible et √©l√©gant √† la fois.&lt;/p&gt;
&lt;h2&gt;
	Interface ArrayAccess&lt;/h2&gt;
&lt;p&gt;
	Cette interface permet de surcharger les √©l√©ments de syntaxe des tableaux. En l'occurence, &amp;nbsp;√ßa permet d'utiliser &lt;code&gt;isset&lt;/code&gt;&amp;nbsp;et d'acc√©der √† un caract√®re par son index :&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;$truc = new NiceString(&quot;Bonjour&quot;);
isset($truc[1]) // ==&amp;gt; true
isset($truc[10]) // ==&amp;gt; false
echo $truc[1] // ==&amp;gt; &quot;o&quot;&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;
	Interface Iterator&lt;/h2&gt;
&lt;p&gt;
	Rien de tr√®s tordu ici, on peut simplement faire un foreach pour boucler sur chaque caract√®re de la cha√Æne.&lt;/p&gt;
&lt;h2&gt;
	M√©thode __invoke&lt;/h2&gt;
&lt;p&gt;
	Cette m√©thode permet de g√©rer le cas dans lequel on essaye d'appeler l'objet comme une fonction. Je l'ai utilis√© pour pouvoir r√©cup√©rer une partie d'une cha√Æne de caract√®res :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;$hw = new NiceString(&quot;Hello World!&quot;);
echo $hw(4, 8); // ==&amp;gt; &quot;o Wo&quot;&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;
	M√©thode __get&lt;/h2&gt;
&lt;p&gt;
	Probablement celle avec laquelle je me suis le plus amus√©. On ne peut pas surcharger l'op√©rateur de concat√©nation en PHP (caract√®re &quot;&lt;code&gt;.&lt;/code&gt;&quot;). Mais j'ai trouv√© un moyen d√©tourn√© de concat√©ner en utilisant l'op√©rateur de pointage (&quot;&lt;code&gt;-&amp;gt;&lt;/code&gt;&quot;).&lt;/p&gt;
&lt;p&gt;
	Avant de vous montrer le r√©sultat, je vais rappeler quelques points importants et m√©connus du langage :&amp;nbsp;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
		La m√©thode &lt;code&gt;__get&lt;/code&gt; permet de g√©rer le cas o√π on essaye d'acc√©der √† une propri√©t√© de l'objet qui n'existe pas.&lt;/li&gt;
	&lt;li&gt;
		On peut acc√©der dynamiquement √† une variable, propri√©t√© ou m√©thode √† partir de son nom (sous forme d'une cha√Æne de caract√®res) de plusieurs mani√®res diff√©rentes
		&lt;ul&gt;
			&lt;li&gt;
				&lt;code&gt;$$variableContenantLeNomDeLaVariableAUtiliser&lt;/code&gt;&lt;/li&gt;
			&lt;li&gt;
				&lt;code&gt;${$variableContenantLeNomDeLaVariableAUtiliser}&lt;/code&gt;&lt;/li&gt;
			&lt;li&gt;
				&lt;code&gt;${&quot;nom de la variable&quot;}&lt;/code&gt;&lt;/li&gt;
			&lt;li&gt;
				&lt;code&gt;$objet-&amp;gt;$variableContenantLeNomDeLaPropriete&lt;/code&gt;&lt;/li&gt;
			&lt;li&gt;
				&lt;code&gt;$objet-&amp;gt;{$variableContenantLeNomDeLaPropriete}&lt;/code&gt;&lt;/li&gt;
			&lt;li&gt;
				&lt;code&gt;$objet-&amp;gt;{&quot;nom de la propri√©t√©&quot;}&lt;/code&gt;&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;
		On peut d'ailleurs &quot;empiler&quot; cette syntaxe, par exemple :&amp;nbsp;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;$a = &quot;Hello World!&quot;;
$b = &quot;a&quot;;
$c = &quot;b&quot;;
$d = &quot;c&quot;;

echo $$$$d; // ==&amp;gt; &quot;Hello World!&quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	J'ai donc utilis√© la m√©thode &lt;code&gt;__get&lt;/code&gt; pour retourner un autre objet &lt;code&gt;NiceString&lt;/code&gt;, ce qui permet d'encha√Æner avec des choses comme √ßa :&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;$people = &quot;World&quot;;
const MY_NAME = 'FooBar';
$age = 42;

$hello = new NiceString(&quot;Hello &quot;);

echo $hello-&amp;gt;$people-&amp;gt;{&quot;, my name is &quot;}-&amp;gt;{MY_NAME}-&amp;gt;{&quot; and I'm &quot;}-&amp;gt;$age-&amp;gt;{&quot; years old.\n&quot;};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	(ce code affichera &quot;&lt;code&gt;Hello World, my name is FooBar and I'm 42 years old.&quot;&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;
	OK, c'est horrible d'un point de vue s√©mantique et syntaxique, mais avouez que c'est astucieux :P ?&lt;/p&gt;
&lt;p&gt;
	&amp;nbsp;&lt;/p&gt;
&lt;p&gt;
	Je partage tout √ßa sous licence MIT, mais c'est tr√®s exp√©rimental, utilisez le √† vos risques et p√©rils !&lt;/p&gt;
</description>
				<pubDate>2015-07-02T20:18:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Partage de GlitchyVerse sur GitHub</title>
				<link>http://www.sebastien.caparros.me/partage-glitchyverse-github.html</link>
				<guid>http://www.sebastien.caparros.me/partage-glitchyverse-github.html</guid>
				<description>&lt;time datetime=&quot;2015-03-11T19:00:00&quot;&gt;11/03/2015 at 19:00:00&lt;/time&gt;
&lt;h1&gt;Partage de GlitchyVerse sur GitHub&lt;/h1&gt;

&lt;p&gt;
	Ca doit bien faire 6 mois que je n'ai plus touch√© √† GlitchyVerse par manque de motivation.&lt;/p&gt;
&lt;p&gt;
	J'ai donc d√©cid√© de partager son code source, au cas o√π √ßa puisse √™tre utile √† quelqu'un.&lt;/p&gt;
&lt;p&gt;
	Je le place sous licence MIT, et vous le trouverez &lt;a href=&quot;https://github.com/Seb-C/GlitchyVerse&quot;&gt;ici&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
	La partie serveur a √©t√© enti√®rement refaite en Go. L'ensemble inclut donc un moteur de jeu maison (d√©velopp√© &quot;from scratch&quot; en HTML5/WebGL pur), un moteur de collisions basique et bien s√ªr les √©l√©ments du gameplay en lui m√™me.&lt;/p&gt;
</description>
				<pubDate>2015-03-11T19:00:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Algorithme DiamondSquare</title>
				<link>http://www.sebastien.caparros.me/algorithme-diamondsquare.html</link>
				<guid>http://www.sebastien.caparros.me/algorithme-diamondsquare.html</guid>
				<description>&lt;time datetime=&quot;2014-06-01T12:04:00&quot;&gt;01/06/2014 at 12:04:00&lt;/time&gt;
&lt;h1&gt;Algorithme DiamondSquare&lt;/h1&gt;

&lt;p&gt;
	Pour g√©n√©rer la texture et le relief des plan√®tes de mon jeu, j'ai utilis√© l'algorithme DiamondSquare.&lt;/p&gt;
&lt;p&gt;
	J'ai pass√© un long moment √† l'impl√©menter en JS, √† l'optimiser au maximum (notamment en utilisant des tableaux typ√©s) et √† le modifier pour que la texture soit applicable sur une sph√®re (sans que les bords de l'image soient visibles). Je me suis donc dit que √ßa serait sympa de partager.&lt;/p&gt;
&lt;p&gt;
	Je me suis bas√© sur l'excellent tuto de &lt;a href=&quot;http://hiko-seijuro.developpez.com/articles/diamond-square/&quot;&gt;Hiko Seijuro sur developpez.com&lt;/a&gt;, et je l'ai adapt√© √† ma sauce. L'avantage de cet algorithme, c'est qu'il est beaucoup plus facile √† comprendre et √† modifier que le bruit de Perlin.&lt;/p&gt;
&lt;p&gt;
	Pour une question de simplicit√©, celui-ci utilise la fonction &lt;u&gt;Math.random&lt;/u&gt; de base, mais on peut tr√®s facilement changer √ßa pour du pseudo-al√©atoire (pour ma part, j'ai opt√© pour &lt;a href=&quot;https://github.com/skeeto/rng-js&quot;&gt;rng.js&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;
	Faites en ce que vous voulez, c'est du WTFPL (mais j'appr√©cie un petit commentaire pour citer la source dans votre code ;) ).&lt;/p&gt;
&lt;p&gt;
	Retrouvez le √©galement sur &lt;a href=&quot;https://github.com/Seb-C/planetTextureGenerator.js&quot;&gt;GitHub&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;
	&amp;nbsp;&lt;/p&gt;
&lt;div&gt;
	&lt;script type=&quot;text/javascript&quot;&gt;
	var resolution = 512;
	var variabilityRate = 1.25;
	var maxColours = 10;
	
	// Getting canvas pixel array
	var canvas = document.createElement(&quot;canvas&quot;);
	canvas.style.display = &quot;block&quot;;
	canvas.width  = resolution;
	canvas.height = resolution / 2;
	var context = canvas.getContext(&quot;2d&quot;);
	var imageData = context.getImageData(0, 0, canvas.width, canvas.height);
	var texturePixels = imageData.data;
	document.currentScript.parentNode.appendChild(canvas);
	
	function refreshTexture() {
		// Colors applied to the texture, depending on it's height
		var colorsNumber = Math.ceil((1 - Math.exp(Math.random()) / Math.E) * maxColours);
		var colorSteps = [];
		for(var i = 0 ; i &lt; colorsNumber ; i++) {
			colorSteps.push({
				minValue: (1 / colorsNumber) * i,
				color: [
					Math.random() * 255,
					Math.random() * 255,
					Math.random() * 255
				]
			});
		}
		
		// Initializing relief array with the points of the first square
		var textureRelief = new Float32Array((resolution + 1) * (resolution + 1));
		textureRelief[0                                   ] = Math.random();
		textureRelief[resolution                          ] = Math.random();
		textureRelief[             resolution * resolution] = Math.random();
		textureRelief[resolution + resolution * resolution] = Math.random();
		
		var setPixel = function(x, y, value) {
			var pixelIndex = x + y * resolution;
			
			textureRelief[pixelIndex] = value;
			
			var colorValue = value;
			if(colorValue &lt; 0) colorValue = 0;
			if(colorValue &gt; 1) colorValue = 1;
			
			// Determining pixel color
			var color = colorSteps[0].color;
			for(var i = 1 ; i &lt; colorSteps.length ; i++) {
				if(colorValue &gt;= colorSteps[i].minValue) {
					color = colorSteps[i].color;
				} else {
					break;
				}
			}
			
			// Setting pixel color
			var pixelIndexRGB = pixelIndex * 4;
			texturePixels[pixelIndexRGB    ] = Math.round(color[0] * colorValue); // R
			texturePixels[pixelIndexRGB + 1] = Math.round(color[1] * colorValue); // G
			texturePixels[pixelIndexRGB + 2] = Math.round(color[2] * colorValue); // B
			texturePixels[pixelIndexRGB + 3] = 255;                               // A
		};

		// Diamond-Square algorithm
		var halfSizeY = ((resolution + 1) / 2 + 0.5);
		for(var currentSize = resolution ; currentSize &gt; 1 ; currentSize /= 2) {
			var halfCurrentSize = currentSize / 2;
			
			// Square
			for(var x = halfCurrentSize ; x &lt; resolution + 1 ; x += currentSize) {
				for(var y = halfCurrentSize ; y &lt;= halfSizeY ; y += currentSize) {
					var squareAvg = (
						  textureRelief[(x - halfCurrentSize) + (y - halfCurrentSize) * resolution]
						+ textureRelief[(x + halfCurrentSize) + (y - halfCurrentSize) * resolution]
						+ textureRelief[(x + halfCurrentSize) + (y + halfCurrentSize) * resolution]
						+ textureRelief[(x - halfCurrentSize) + (y + halfCurrentSize) * resolution]
					) / 4;
					
					var diamondAvg = diamondSum / diamondCount;
					if(y == 0 || y == halfSizeY - 1) {
						setPixel(x, y, 0.5); // First and last lines are always at a constant height to be applicable on a sphere
					} else {
						setPixel(x, y, squareAvg + ((Math.random() * 2 - 1) * currentSize * variabilityRate) / (resolution + 1));
					}
				}
			}
			
			// Diamond
			for(var x = 0 ; x &lt; resolution ; x += halfCurrentSize) {
				var yStart = ((x / halfCurrentSize) % 2 == 0) ? halfCurrentSize : 0; 
				
				for(var y = yStart ; y &lt;= halfSizeY ; y += currentSize) {
					var diamondSum = 0, diamondCount = 0;
					
					if(y - halfCurrentSize &gt;= 0) {
						diamondSum += textureRelief[x + (y - halfCurrentSize) * resolution];
						diamondCount++
					}
					if(x + halfCurrentSize &lt; resolution + 1) {
						diamondSum += textureRelief[(x + halfCurrentSize) + y * resolution];
						diamondCount++
					}
					if(y + halfCurrentSize &lt; halfSizeY) {
						diamondSum += textureRelief[x + (y + halfCurrentSize) * resolution];
						diamondCount++
					}
					if(x - halfCurrentSize &gt;= 0) {
						diamondSum += textureRelief[(x - halfCurrentSize) + y * resolution];
						diamondCount++
					}
					
					var diamondAvg = diamondSum / diamondCount;
					if(y == 0 || y == halfSizeY - 1) {
						setPixel(x, y, 0.5); // First and last lines are always at a constant height to be applicable on a sphere
					} else {
						setPixel(x, y, diamondAvg + ((Math.random() * 2 - 1) * currentSize * variabilityRate) / (resolution + 1));
						if(x == 0) setPixel(resolution, y, textureRelief[x + y * resolution]); // Makes it tileable horizontally
					}
				}
			}
		}
		
		context.putImageData(imageData, 0, 0);
	};
	refreshTexture();
	
	// Refresh button
	var refreshButton = document.createElement(&quot;input&quot;);
	refreshButton.setAttribute(&quot;type&quot;, &quot;button&quot;);
	refreshButton.setAttribute(&quot;value&quot;, &quot;Nouvelle texture&quot;);
	refreshButton.addEventListener(&quot;click&quot;, refreshTexture);
	document.currentScript.parentNode.appendChild(refreshButton);
&lt;/script&gt;&lt;/div&gt;
&lt;p&gt;
	&amp;nbsp;&lt;/p&gt;
&lt;hr /&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// A mettre dans une balise script. Si je la met ici,
// √ßa fait planter la coloration syntaxique ...
var resolution = 512;
var variabilityRate = 1.25;
var maxColours = 10;

// Getting canvas pixel array
var canvas = document.createElement(&quot;canvas&quot;);
canvas.style.display = &quot;block&quot;;
canvas.width  = resolution;
canvas.height = resolution / 2;
var context = canvas.getContext(&quot;2d&quot;);
var imageData = context.getImageData(0, 0, canvas.width, canvas.height);
var texturePixels = imageData.data;
document.currentScript.parentNode.appendChild(canvas);

function refreshTexture() {
	// Colors applied to the texture, depending on it's height
	var colorsNumber = Math.ceil((1 - Math.exp(Math.random()) / Math.E) * maxColours);
	var colorSteps = [];
	for(var i = 0 ; i &amp;lt; colorsNumber ; i++) {
		colorSteps.push({
			minValue: (1 / colorsNumber) * i,
			color: [
				Math.random() * 255,
				Math.random() * 255,
				Math.random() * 255
			]
		});
	}
	
	// Initializing relief array with the points of the first square
	var textureRelief = new Float32Array((resolution + 1) * (resolution + 1));
	textureRelief[0                                   ] = Math.random();
	textureRelief[resolution                          ] = Math.random();
	textureRelief[             resolution * resolution] = Math.random();
	textureRelief[resolution + resolution * resolution] = Math.random();
	
	var setPixel = function(x, y, value) {
		var pixelIndex = x + y * resolution;
		
		textureRelief[pixelIndex] = value;
		
		var colorValue = value;
		if(colorValue &amp;lt; 0) colorValue = 0;
		if(colorValue &amp;gt; 1) colorValue = 1;
		
		// Determining pixel color
		var color = colorSteps[0].color;
		for(var i = 1 ; i &amp;lt; colorSteps.length ; i++) {
			if(colorValue &amp;gt;= colorSteps[i].minValue) {
				color = colorSteps[i].color;
			} else {
				break;
			}
		}
		
		// Setting pixel color
		var pixelIndexRGB = pixelIndex * 4;
		texturePixels[pixelIndexRGB    ] = Math.round(color[0] * colorValue); // R
		texturePixels[pixelIndexRGB + 1] = Math.round(color[1] * colorValue); // G
		texturePixels[pixelIndexRGB + 2] = Math.round(color[2] * colorValue); // B
		texturePixels[pixelIndexRGB + 3] = 255;                               // A
	};

	// Diamond-Square algorithm
	var halfSizeY = ((resolution + 1) / 2 + 0.5);
	for(var currentSize = resolution ; currentSize &amp;gt; 1 ; currentSize /= 2) {
		var halfCurrentSize = currentSize / 2;
		
		// Square
		for(var x = halfCurrentSize ; x &amp;lt; resolution + 1 ; x += currentSize) {
			for(var y = halfCurrentSize ; y &amp;lt;= halfSizeY ; y += currentSize) {
				var squareAvg = (
					  textureRelief[(x - halfCurrentSize) + (y - halfCurrentSize) * resolution]
					+ textureRelief[(x + halfCurrentSize) + (y - halfCurrentSize) * resolution]
					+ textureRelief[(x + halfCurrentSize) + (y + halfCurrentSize) * resolution]
					+ textureRelief[(x - halfCurrentSize) + (y + halfCurrentSize) * resolution]
				) / 4;
				
				var diamondAvg = diamondSum / diamondCount;
				if(y == 0 || y == halfSizeY - 1) {
					setPixel(x, y, 0.5); // First and last lines are always at a constant height to be applicable on a sphere
				} else {
					setPixel(x, y, squareAvg + ((Math.random() * 2 - 1) * currentSize * variabilityRate) / (resolution + 1));
				}
			}
		}
		
		// Diamond
		for(var x = 0 ; x &amp;lt; resolution ; x += halfCurrentSize) {
			var yStart = ((x / halfCurrentSize) % 2 == 0) ? halfCurrentSize : 0; 
			
			for(var y = yStart ; y &amp;lt;= halfSizeY ; y += currentSize) {
				var diamondSum = 0, diamondCount = 0;
				
				if(y - halfCurrentSize &amp;gt;= 0) {
					diamondSum += textureRelief[x + (y - halfCurrentSize) * resolution];
					diamondCount++
				}
				if(x + halfCurrentSize &amp;lt; resolution + 1) {
					diamondSum += textureRelief[(x + halfCurrentSize) + y * resolution];
					diamondCount++
				}
				if(y + halfCurrentSize &amp;lt; halfSizeY) {
					diamondSum += textureRelief[x + (y + halfCurrentSize) * resolution];
					diamondCount++
				}
				if(x - halfCurrentSize &amp;gt;= 0) {
					diamondSum += textureRelief[(x - halfCurrentSize) + y * resolution];
					diamondCount++
				}
				
				var diamondAvg = diamondSum / diamondCount;
				if(y == 0 || y == halfSizeY - 1) {
					setPixel(x, y, 0.5); // First and last lines are always at a constant height to be applicable on a sphere
				} else {
					setPixel(x, y, diamondAvg + ((Math.random() * 2 - 1) * currentSize * variabilityRate) / (resolution + 1));
					if(x == 0) setPixel(resolution, y, textureRelief[x + y * resolution]); // Makes it tileable horizontally
				}
			}
		}
	}
	
	context.putImageData(imageData, 0, 0);
};
refreshTexture();

// Refresh button
var refreshButton = document.createElement(&quot;input&quot;);
refreshButton.setAttribute(&quot;type&quot;, &quot;button&quot;);
refreshButton.setAttribute(&quot;value&quot;, &quot;Nouvelle texture&quot;);
refreshButton.addEventListener(&quot;click&quot;, refreshTexture);
document.currentScript.parentNode.appendChild(refreshButton);
&lt;/code&gt;&lt;/pre&gt;
</description>
				<pubDate>2014-06-01T12:04:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>25 ans du Web</title>
				<link>http://www.sebastien.caparros.me/25-ans-du-web.html</link>
				<guid>http://www.sebastien.caparros.me/25-ans-du-web.html</guid>
				<description>&lt;time datetime=&quot;2014-03-12T17:50:00&quot;&gt;12/03/2014 at 17:50:00&lt;/time&gt;
&lt;h1&gt;25 ans du Web&lt;/h1&gt;

&lt;p&gt;
	Si vous avez lu les actualit√©s r√©cemment, vous savez que c'est le 25&lt;sup&gt;√®me&lt;/sup&gt; anniversaire du Web (√† ne pas confondre avec Internet). J'en profite donc pour apporter ma modeste pierre √† l'√©difice, mais surtout pour relayer le message publi√© par Tim Berners-Lee (plus de d√©tails sur &lt;a href=&quot;http://www.webat25.org/&quot;&gt;webat25.org&lt;/a&gt;). Car si cela fait d√©j√† 25 ans que la plus belle cr√©ation humaine (oui, j'ose l'affirmer ! Vous en connaissez d'autres qui ont r√©uni 2.5 milliards de personnes dans un but commun ?) a commenc√© √† bouleverser notre civilisation, il ne faut pas oublier que les deux tiers de la population mondiale n'y ont toujours pas acc√®s.&lt;/p&gt;
&lt;p&gt;
	&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; mozallowfullscreen=&quot;&quot; src=&quot;//player.vimeo.com/video/88343326&quot; webkitallowfullscreen=&quot;&quot; width=&quot;600&quot; height=&quot;450&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
</description>
				<pubDate>2014-03-12T17:50:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Deuxi√®me vid√©o de pr√©sentation de mon jeu</title>
				<link>http://www.sebastien.caparros.me/deuxieme-video-presentation-jeu.html</link>
				<guid>http://www.sebastien.caparros.me/deuxieme-video-presentation-jeu.html</guid>
				<description>&lt;time datetime=&quot;2014-02-10T14:10:00&quot;&gt;10/02/2014 at 14:10:00&lt;/time&gt;
&lt;h1&gt;Deuxi√®me vid√©o de pr√©sentation de mon jeu&lt;/h1&gt;

&lt;p&gt;
	Tout est dans le titre ! Je fais le point avant de m'attaquer √† un autre gros morceau : l'inventaire et l'√©quipage.&lt;/p&gt;
&lt;p&gt;
	&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; src=&quot;//www.youtube.com/embed/JZFSgCou2sE&quot; width=&quot;600&quot; height=&quot;450&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
</description>
				<pubDate>2014-02-10T14:10:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Publication d'une librairie JS : FileLoader.js</title>
				<link>http://www.sebastien.caparros.me/publication-librairie-fileloader-js.html</link>
				<guid>http://www.sebastien.caparros.me/publication-librairie-fileloader-js.html</guid>
				<description>&lt;time datetime=&quot;2013-12-02T19:53:00&quot;&gt;02/12/2013 at 19:53:00&lt;/time&gt;
&lt;h1&gt;Publication d'une librairie JS : FileLoader.js&lt;/h1&gt;

&lt;p&gt;
	Je viens de publier sur GitHub une petite librairie javascript. Je ne vais pas r√©√©crire toute la description que j'y ait mis, donc je vous invite √† aller voir :&lt;/p&gt;
&lt;p&gt;
	&lt;a href=&quot;https://github.com/Seb-C/FileLoader.js&quot;&gt;https://github.com/Seb-C/FileLoader.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;
	Basiquement, elle vous permet de mettre tous les fichiers n√©cessaires √† votre application web (scripts, images, binaires, ...) dans une archive tar et de tout charger par une unique transaction HTTP. √áa permet dans mon cas d'√©viter au client de t√©l√©charger les 132 fichiers n√©cessaires √† l'ex√©cution du jeu. Le tout est mis dans un unique fichier tar qui est pars√© en JavaScript c√¥t√© client.&lt;/p&gt;
</description>
				<pubDate>2013-12-02T19:53:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Petite vid√©o de pr√©sentation du jeu</title>
				<link>http://www.sebastien.caparros.me/premiere-video-jeu-developpement.html</link>
				<guid>http://www.sebastien.caparros.me/premiere-video-jeu-developpement.html</guid>
				<description>&lt;time datetime=&quot;2013-10-26T01:51:00&quot;&gt;26/10/2013 at 01:51:00&lt;/time&gt;
&lt;h1&gt;Petite vid√©o de pr√©sentation du jeu&lt;/h1&gt;

&lt;p&gt;
	Une vid√©o o√π je pr√©sente le jeu sur lequel je travaille depuis de nombreux mois.&lt;/p&gt;
&lt;p&gt;
	&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; src=&quot;//www.youtube.com/embed/eC0HhQq1DgQ?rel=0&quot; width=&quot;600&quot; height=&quot;450&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
</description>
				<pubDate>2013-10-26T01:51:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Un peu d'h√©ritage en JavaScript</title>
				<link>http://www.sebastien.caparros.me/un-peu-d-heritage-en-javascript.html</link>
				<guid>http://www.sebastien.caparros.me/un-peu-d-heritage-en-javascript.html</guid>
				<description>&lt;time datetime=&quot;2013-06-29T13:15:00&quot;&gt;29/06/2013 at 13:15:00&lt;/time&gt;
&lt;h1&gt;Un peu d'h√©ritage en JavaScript&lt;/h1&gt;

&lt;p&gt;
	Je ne suis pas tr√®s actif sur ce blog ces derniers temps car je suis toujours √† fond dans le d√©veloppement d'un jeu en WebGL. Je n'en dis pas plus pour le moment, mais je ferais peut-√™tre prochainement un article dessus avec quelques copies d'√©cran bien choisies (car je ne veux pas d√©voiler les aspects les plus int√©r√©ssants :D ).&lt;/p&gt;
&lt;p&gt;
	Bref, passons en au fait. Je cherchais depuis longtemps un moyen simple et fonctionnel de faire de l'h√©ritage en JavaScript. Mais malgr√© le nombre d'articles sur le sujet qu'on peut trouver sur Internet, aucun ne m'a jamais compl√®tement satisfait.&lt;/p&gt;
&lt;p&gt;
	Entre les solutions qui cassent en partie le typage (instanceof qui ne r√©pond que sur la classe parente ou sur la classe fille), celles qui sont tr√®s lourdes (boucle sur les attributs et m√©thodes du prototype), celles qui n√©cessitent d'avoir du code en double (pas d'appel possible au constructeur parent) et celles qui modifient le prototype d'Object, je n'ai jamais rien trouv√© qui me satisfasse.&lt;/p&gt;
&lt;p&gt;
	Mais √ßa, c'√©tait avant. Avant que je ne tombe sur un article tr√®s r√©cent (mai/juin 2013) sur le site de Mozilla, qui pr√©sente &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create#Classical_inheritance_with_Object.create&quot;&gt;une m√©thode d'h√©ritage plut√¥t convaincante&lt;/a&gt;, avec la m√©thode Object.create.&lt;/p&gt;
&lt;p&gt;
	L'appel au constructeur parent est possible, on peut utiliser instanceof sur la classe m√®re et la classe fille, et le code semble assez performant.&lt;/p&gt;
&lt;p&gt;
	Si votre d√©veloppement cible tous les navigateurs, m√™me les plus anciens (ce qui n'est pas mon cas), pensez bien a inclure le &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create#Polyfill&quot;&gt;polyfill propos√© par Mozilla&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
	Il y a cependant deux petits d√©fauts qui me g√™naient :&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
		Il faut faire appel au constructeur parent par le nom de la classe parente. Ca me d√©range car j'ai l'habitude de r√©duire la redondance au minimum, quitte √† pousser le langage jusque dans ses retranchements. Et avoir deux fois le nom de la classe parente dans ma d√©claration, ca ne me convient pas.&lt;/li&gt;
	&lt;li&gt;
		Le code n'est pas tr√®s intuitif et est assez lourd √† √©crire quand on veut faire un h√©ritage.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
	J'ai donc √©labor√© la modeste fonction suivante, qui r√©pond √† tous mes crit√®res :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;Function.prototype.extend = function(Parent) {
    this.prototype = Object.create(Parent.prototype);
    this.prototype.constructor = this;
    this.prototype.parent = function(/* any args */) {
        Parent.apply(this, arguments);
    };
};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	Et un rapide exemple d'utilisation :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;/**
 * D√©finit un v√©hicule √©quip√© de roues
 * @param int Le nombre de roues du v√©hicule
 */
var VehiculeRoulant = function(nombreRoues) {
	this._nombreRoues = nombreRoues;
};

/**
 * @return int Le nombre de roues du v√©hicule
 */
VehiculeRoulant.prototype.getNombreRoues = function() {
	return this._nombreRoues;
};

/**
 * D√©finit une Moto, qui h√©rite de VehiculeRoulant
 * @param boolean true si le v√©hicule est √©quip√© d'un side-car
 */
var Moto = function(hasSideCar) {
	this.hasSideCar = hasSideCar;
	
	this.parent(this.hasSideCar ? 3 : 2);
}
Moto.extend(VehiculeRoulant);

Moto.prototype.toString = function() {
	var r = &quot;Je suis une moto avec &quot; + this.getNombreRoues() + &quot; roues&quot;;
	if(this.hasSideCar) {
		r += &quot; (car √©quip√©e d'un side-car)&quot;;
	}
	r += &quot;.&quot;;
	
	return r;
};

alert(new Moto(true));  // Je suis une moto avec 3 roues (car √©quip√©e d'un side-car).
alert(new Moto(false)); // Je suis une moto avec 2 roues.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	&amp;nbsp;&lt;/p&gt;
&lt;p&gt;
	En r√©sum√©, vous pouvez faire un h√©ritage comme ceci :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;var Fille = function(/*bla*/) { /*blabla*/ };
Fille.extend(Mere);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	Et faire appel au constructeur parent via :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;this.parent(/* arguments √† passer au parent */);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	Le seul d√©faut restant, c'est qu'on ne peut pas √©tendre une m√©thode parente. On est oblig√© de l'√©craser ou de contourner le probl√®me. Je n'ai pas trouv√© de solution propre pour le faire.&lt;/p&gt;
&lt;p&gt;
	Au niveau du code en lui-m√™me, je ne modifie pas Object, mais Function. Du coup, quand vous utiliserez un simple objet comme tableau associatif, vous n'aurez pas d'attribut parasite. Par contre, si vous voulez boucler sur les attributs d'une instance d'une classe (Function), il y en aura (mais vous ne devriez pas avoir besoin de le faire si vous d√©veloppez proprement ;) ), auquel cas il faudra suivre les recommandations en utilisant hasOwnProperty.&lt;/p&gt;
&lt;p&gt;
	En esp√©rant que ca soit utile √† quelqu'un ! Sentez vous libre de r√©utiliser ma fonction o√π vous voulez et sans restrictions, mais si vous pouvez mettre un lien vers cette page en commentaire de la fonction, j'appr√©cierais.&lt;/p&gt;
</description>
				<pubDate>2013-06-29T13:15:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>D√©placements totalement libres en WebGL</title>
				<link>http://www.sebastien.caparros.me/faire-un-deplacement-totalement-libre-en-webgl.html</link>
				<guid>http://www.sebastien.caparros.me/faire-un-deplacement-totalement-libre-en-webgl.html</guid>
				<description>&lt;time datetime=&quot;2013-02-27T18:31:00&quot;&gt;27/02/2013 at 18:31:00&lt;/time&gt;
&lt;h1&gt;D√©placements totalement libres en WebGL&lt;/h1&gt;

&lt;p&gt;
	Ces derniers temps, j'ai beaucoup appris en me frottant au WebGL. Je me suis aussi beaucoup pris la t√™te, mais j'ai r√©ussi la premi√®re chose que je souhaitais r√©aliser avec : faire en sorte qu'on puisse se d√©placer et tourner autour de soi de mani√®re totalement libre et sur tous les axes. Le tout en vue √† la premi√®re personne. L'int√©r√™t de √ßa, vous l'aurez peut-√™tre compris, c'est de pouvoir se d√©placer comme dans l'espace ...&lt;/p&gt;
&lt;p&gt;
	La premi√®re chose que j'ai faite en me lan√ßant dans le WebGL, c'est aller lire les rares tutos qu'on trouve sur Internet.&lt;/p&gt;
&lt;p&gt;
	J'ai commenc√© par celui qu'on trouve sur &lt;a href=&quot;http://learningwebgl.com/blog/?p=28&quot;&gt;learningwebgl.com&lt;/a&gt;, qui avait l'air assez complet. Sauf que :&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
		Le code qui y est pr√©sent√© n'est absolument pas structur√© (tout est fait √† base de fonctions et √† coup de dizaines de variables globales)&lt;/li&gt;
	&lt;li&gt;
		Le code qui est expliqu√© dans le tutoriel n'est pas √† jour avec ce qui est dans la d√©mo.&lt;/li&gt;
	&lt;li&gt;
		Quand on essaye de suivre le tuto en parall√®le de la r√©daction du code, on se rend compte que c'est tr√®s mal expliqu√© ou encore qu'on ne sait pas o√π va telle ou telle ligne. Il manque aussi r√©guli√®rement des petits bouts de code, comme des d√©clarations de variables globales. C'est tr√®s frustrant parce qu'on est oblig√© de se concentrer sur la forme plut√¥t que sur le fond, et on perd trop r√©guli√®rement le fil.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
	J'ai donc d√©cid√© de chercher un tutoriel de meilleure qualit√©, et je suis tomb√© sur le site de &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/WebGL/Getting_started_with_WebGL&quot;&gt;Mozilla&lt;/a&gt;. Il ressemble de tr√®s pr√®s au pr√©c√©dent (trop pour que ce soit une co√Øncidence), tout en corrigeant beaucoup de ses d√©fauts. Il n'est pas parfait, mais si vous cherchez √† apprendre le WebGL depuis le d√©but, je vous recommande celui-ci.&lt;/p&gt;
&lt;p&gt;
	Je n'ai pas suivi tout le tutoriel, car j'ai rapidement compris le fonctionnement, ce qui m'a permis de m'en √©loigner (tout en prenant leur code comme base). J'en ai profit√© pour r√©organiser et restructurer correctement mon code, chose qui n'est toujours pas termin√©e.&lt;/p&gt;
&lt;p&gt;
	L'√©tape suivante, relativement int√©ressante, a consist√© √† d√©terrer de ma m√©moire les cours de Maths de ma premi√®re ann√©e de DUT, sur les calculs matriciels (j'ai enfin trouv√© une utilit√© concr√®te, c'est plus motivant que de la th√©orie pure !). Globalement, je m'y suis retrouv√© assez facilement puisque je ne suis pas trop rentr√© dans le d√©tail.&lt;/p&gt;
&lt;p&gt;
	D'ailleurs, le plus simple pour √ßa, c'est d'utiliser une API qui fournit toutes les op√©rations de base. Parmi les plus populaires, on retrouve Sylvester, EWGL, mjs ou glMatrix. C'est sur cette derni√®re que mon choix s'est port√©. Son API est un peu d√©routante au d√©but, mais elle est tr√®s compl√®te et efficace. Je crois d'ailleurs qu'elle est recommand√©e par les tutos cit√©s plus haut (Attention : les d√©mos ne sont pas du tout √† jour et il y a eu beaucoup de changements, donc privil√©giez la version t√©l√©chargeable sur le &lt;a href=&quot;http://glmatrix.net/&quot;&gt;site officiel&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;
	L√† o√π j'ai le plus gal√©r√© au final, c'est pour r√©ussir la rotation sur trois axes. C'est principalement un probl√®me algorithmique, mais malheureusement on trouve surtout de la documentation tr√®s th√©orique et peu de concret. Je suis aussi rest√© longtemps bloqu√© sur un probl√®me dit de &quot;blocage de cardan&quot;, ou Gimbal Lock. D'autre part, le WebGL est encore tr√®s r√©cent, et la documentation tr√®s rare. C'est pour ca que je vous conseille de faire vos recherches sur l'OpenGL plut√¥t que le WebGL, les deux APIs √©tant de toute mani√®re identiques.&lt;/p&gt;
&lt;p&gt;
	La plupart de la documentation qu'on peut trouver consiste √† √©crire soi m√™mes les formules de rotations et translations. En r√©alit√©, tout peut se faire directement avec glMatrix : un vecteur qui d√©termine la position de la cam√©ra, et un quaternion qui d√©termine l'angle de vue. C'est l√† que j'ai test√© un nombre incalculable de codes diff√©rents, jusqu'√† ce que je tombe sur un post soulignant une information cl√© : En OpenGL, la cam√©ra ne bouge pas. C'est le monde qui bouge et tourne autour de la cam√©ra pour donner l'illusion d'un mouvement. Il suffisait donc simplement d'inverser la rotation (au sens math√©matique du terme), puis de combiner la matrice et le quaternion correctement.&lt;/p&gt;
&lt;p&gt;
	Plus concr√®tement, dans ma gestion du clavier, je renvoie un vecteur contenant trois valeurs (le mouvement sur trois axes), le d√©placement se faisant √† l'aide des fl√®ches (pour avancer, reculer et faire des pas lat√©raux) et des touches page haut et page bas (pour monter ou descendre). Le vecteur en question se nomme moveSpeed.&lt;/p&gt;
&lt;p&gt;
	Du c√¥t√© de la souris, c'est tr√®s similaire avec un vecteur de rotation nomm√© rotationRate. La rotation en X et Y se fait comme dans un FPS, et la rotation Z se fait en maintenant la roulette enfonc√©e.&lt;/p&gt;
&lt;p&gt;
	Dans ma fonction &quot;animate&quot; (d√©clench√©e √† chaque frame, ce que je compte am√©liorer via un WebWorker), je calcule les d√©placements de cette mani√®re (la variable elapsed repr√©sente le temps pass√© depuis la derni√®re frame) :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;var moveDistance = vec3.fromValues(
	moveSpeed[0] * elapsed,
	moveSpeed[1] * elapsed,
	moveSpeed[2] * elapsed
);
vec3.transformQuat(moveDistance, moveDistance, rotation);
vec3.subtract(position, position, moveDistance);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	La premi√®re et la troisi√®me ligne sont relativement simples √† comprendre. La seconde (c'est l√† que glMatrix entre en jeu) consiste tout simplement √† calculer le d√©placement absolu (par rapport au point d'origine de &quot;l'univers&quot;) induit par le d√©placement demand√©, en fonction de l'angle de vue courant (ce qui veut dire que si je regarde vers la droite par rapport au point d'origine, je dois avancer face √† moi quand j'appuie sur la fl√®che du haut, et non pas vers la gauche).&lt;/p&gt;
&lt;p&gt;
	Du c√¥t√© de la rotation c'est tout aussi simple puisque je demande simplement √† glMatrix d'appliquer mon vecteur de rotation √† la rotation absolue. Ensuite, je convertis mon quaternion en matrice afin de pouvoir l'inverser.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;quat.rotateX(rotation, rotation, degToRad(rotationRate[0] * elapsed));
quat.rotateY(rotation, rotation, degToRad(rotationRate[1] * elapsed));
quat.rotateZ(rotation, rotation, degToRad(rotationRate[2] * elapsed));

mat4.fromQuat(invertedRotation, rotation);
mat4.invert(invertedRotation, invertedRotation);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	Il ne reste plus qu'a combiner correctement tous ces √©l√©ments dans ma fonction de dessin (drawScene) :&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;var mvMatrix = mat4.create();

mat4.identity(mvMatrix);
mat4.multiply(mvMatrix, mvMatrix, invertedRotation);
mat4.translate(mvMatrix, mvMatrix, position);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
	Voil√† voil√† ... Je tenais √† partager ce bout de code au cas o√π √ßa pourrait servir √† quelqu'un, parce que la documentation se fait rare quand on cherche √† mettre en place un tel d√©placement. Dans l'imm√©diat, je suis en train de r√©organiser le code (c'est donc le bon moment pour le partager, puisque actuellement il ressemble encore beaucoup au tuto). J'essayerais de publier une vid√©o d√®s que j'aurais un peu plus de contenu dans mon monde (pour le moment il n'y a qu'un cube avec une texture ...).&lt;/p&gt;
</description>
				<pubDate>2013-02-27T18:31:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Publication sources du jeu multijoueurs</title>
				<link>http://www.sebastien.caparros.me/publication-sources-du-jeu-multijoueurs.html</link>
				<guid>http://www.sebastien.caparros.me/publication-sources-du-jeu-multijoueurs.html</guid>
				<description>&lt;time datetime=&quot;2013-02-10T12:33:00&quot;&gt;10/02/2013 at 12:33:00&lt;/time&gt;
&lt;h1&gt;Publication sources du jeu multijoueurs&lt;/h1&gt;

&lt;p&gt;
	Ca fait un moment que je n'y ai pas touch√©, et √† vrai dire, il est abandonn√© vu que je suis sur tout autre chose.&lt;/p&gt;
&lt;p&gt;
	Du coup, plut√¥t que de le laisser moisir au fin fond d'un disque dur, je publie les sources, en esp√©rant que ca puisse √™tre utile √† quelqu'un ...&lt;/p&gt;
&lt;p&gt;
	Je le publie sous licence GPL (v3), avec les fichiers du projet Netbeans d√©j√† configur√©.&lt;/p&gt;
&lt;p&gt;
	Il suffit de lancer le fichier src/Main.java pour d√©marrer le c√¥t√© serveur. Ensuite, on peut y acc√©der via un navigateur sur http://localhost:12345/. Le port peut √™tre configur√© dans le fichier config.ini.&lt;/p&gt;
&lt;p&gt;
	Vous trouverez les sources &lt;u&gt;&lt;a href=&quot;documents/Jeu_JS.zip&quot;&gt;ici&lt;/a&gt;&lt;/u&gt;.&lt;/p&gt;
&lt;p&gt;
	&amp;nbsp;&lt;/p&gt;
&lt;p&gt;
	A part ca, je me suis mis √† tester WebGL, et je dois dire que c'est assez int√©r√©ssant car j'apprend beaucoup de choses, m√™me si je m'arrache souvent les cheveux pour les comprendre. J'ai √©galement d√©cid√© de me mettre au langage Ruby, qui me servira pour le c√¥t√© serveur.&lt;/p&gt;
&lt;p&gt;
	J'essayerais de publier des articles l√† dessus.&lt;/p&gt;
</description>
				<pubDate>2013-02-10T12:33:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Joyeuses f√™tes</title>
				<link>http://www.sebastien.caparros.me/joyeuses-fetes.html</link>
				<guid>http://www.sebastien.caparros.me/joyeuses-fetes.html</guid>
				<description>&lt;time datetime=&quot;2012-12-27T11:41:00&quot;&gt;27/12/2012 at 11:41:00&lt;/time&gt;
&lt;h1&gt;Joyeuses f√™tes&lt;/h1&gt;

&lt;p&gt;
	Avec un peu de retard, je vous souhaite de joyeuses f√™tes !&lt;/p&gt;
&lt;p&gt;
	Ca fait un moment que je n'ai pas fait d'article. Non, le blog n'est pas abandonn√©, c'est juste que je n'ai pas grand chose √† dire.&lt;/p&gt;
&lt;p&gt;
	Pour √™tre honn√™te, je suis en train de bosser sur la r√©daction d'un dossier pour un jeu tr√®s ambitieux, mais je ne souhaite pas trop m'√©tendre dessus pour le moment. Tout ce que je peux dire, c'est que ca sera un &lt;strike&gt;monde&lt;/strike&gt; univers totalement ouvert et √¢x√© sur le d√©veloppement d'un vaisseau spatial.&lt;/p&gt;
&lt;p&gt;
	Je ne sais pas si ca aboutira r√©ellement cette fois-ci non plus, mais c'est un sujet passionnant et qui m'amuse beaucoup. C'est le principal.&lt;/p&gt;
</description>
				<pubDate>2012-12-27T11:41:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Retour sur jMonkeyEngine</title>
				<link>http://www.sebastien.caparros.me/retour-sur-jmonkeyengine.html</link>
				<guid>http://www.sebastien.caparros.me/retour-sur-jmonkeyengine.html</guid>
				<description>&lt;time datetime=&quot;2012-10-07T18:40:00&quot;&gt;07/10/2012 at 18:40:00&lt;/time&gt;
&lt;h1&gt;Retour sur jMonkeyEngine&lt;/h1&gt;

&lt;p&gt;
	Il y a maintenant quelques ann√©es, je m'√©tais essay√© √† la 3D. J'avais opt√© pour le moteur jMonkeyEngine (en Java), qui est puissant et int√®gre notamment un moteur physique.&lt;/p&gt;
&lt;p&gt;
	Je m'y √©tais int√©r√©ss√© avant tout pour m'amuser. J'avais donc commenc√© √† suivre les tutos officiels et √† les combiner √† des scripts partag√©s par la communaut√©. J'avais obtenu un r√©sultat sympathique, mais pas du tout gratifiant puisque je n'avais pas fait grand chose pour y arriver (sans compter le fait que n'ayant pas du tout certaines connaissances de bases en 3D, je ne comprenais pas la moiti√© du code copi√©-coll√©), et j'avais fini par laisser tomber.&lt;/p&gt;
&lt;p&gt;
	Voici quelques copies d'√©cran :&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;
	&lt;a href=&quot;images/jmonkeyengine/Capture-2.png&quot; rel=&quot;lightbox&quot;&gt;&lt;img alt=&quot;Aper√ßu 1 de jMonkeyEngine&quot; src=&quot;images/jmonkeyengine/Capture-2.png&quot; style=&quot;width: 480px; height: 374px;&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;
	&lt;a href=&quot;images/jmonkeyengine/Capture-1.png&quot; rel=&quot;lightbox&quot;&gt;&lt;img alt=&quot;Aper√ßu 2 de jMonkeyEngine&quot; src=&quot;images/jmonkeyengine/Capture-1.png&quot; style=&quot;width: 480px; height: 377px;&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;
	&lt;a href=&quot;images/jmonkeyengine/Capture.png&quot; rel=&quot;lightbox&quot;&gt;&lt;img alt=&quot;Aper√ßu 3 de jMonkeyEngine&quot; src=&quot;images/jmonkeyengine/Capture.png&quot; style=&quot;width: 480px; height: 375px;&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;
	La 3D √©tant quand m√™me un domaine tr√®s int√©r√©ssant, j'ai quand m√™me fini par m'y remettre il y a quelques jours. Cette fois-ci, je commence par les bases et j'ai pour objectif de me familiariser directement avec WebGL.&lt;/p&gt;
</description>
				<pubDate>2012-10-07T18:40:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Exp√©rimentation d'un moteur de particules</title>
				<link>http://www.sebastien.caparros.me/experimentation-moteur-particules.html</link>
				<guid>http://www.sebastien.caparros.me/experimentation-moteur-particules.html</guid>
				<description>&lt;time datetime=&quot;2012-09-29T15:55:00&quot;&gt;29/09/2012 at 15:55:00&lt;/time&gt;
&lt;h1&gt;Exp√©rimentation d'un moteur de particules&lt;/h1&gt;

&lt;p&gt;
	Petite vid√©o pour pr√©senter l'avancement du jeu et les premiers tests du moteur de particules.&lt;/p&gt;
&lt;p&gt;
	Il reste quelques petits bugs au niveau de la physique, mais dans l'ensemble ca commence √† marcher pas trop mal (la vid√©o n'est pas tr√®s fluide, mais le jeu est correct dans la r√©alit√©).&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;
	&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; src=&quot;http://www.youtube.com/embed/PkGUlvfqktI?rel=0&quot; width=&quot;600&quot; height=&quot;380&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
</description>
				<pubDate>2012-09-29T15:55:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>Le projet du moment</title>
				<link>http://www.sebastien.caparros.me/le-projet-du-moment.html</link>
				<guid>http://www.sebastien.caparros.me/le-projet-du-moment.html</guid>
				<description>&lt;time datetime=&quot;2012-09-24T01:24:00&quot;&gt;24/09/2012 at 01:24:00&lt;/time&gt;
&lt;h1&gt;Le projet du moment&lt;/h1&gt;

&lt;p style=&quot;text-align: justify;&quot;&gt;
	Depuis quelque temps maintenant, je bosse sur le d√©veloppement d'un jeu multijoueurs en 2D (style plateforme).&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	Je n'ai encore d√©fini aucun √©l√©ment de gameplay pr√©cis, mais j'ai quelques id√©es de r√©alisations techniques int√©r√©ssantes.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;
	&lt;a href=&quot;images/jeu1/aspect du jeu.png&quot; rel=&quot;lightbox&quot;&gt;&lt;img alt=&quot;Aspect du jeu&quot; src=&quot;images/jeu1/aspect%20du%20jeu.png&quot; style=&quot;width: 480px; height: 270px;&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	C√¥t√© client, le jeu est d√©velopp√© en HTML5 pur. Le rendu est assur√© par un canvas.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	J'ai d'ailleurs pu exp√©rimenter un bon paquet de fonctionnalit√©s int√©r√©ssantes de HTML5, comme l'API fullscreen, les diff√©rentes fonctionnalit√©s audio (ainsi que leurs &lt;a href=&quot;http://www.wewantogg.com/&quot;&gt;probl√®mes actuels&lt;/a&gt; pour lesquels nous pouvons remercier Microsoft et Apple ...), le localStorage, la fonction requestAnimationFrame (qui permet de synchroniser la fr√©quence d'affichage d'un √©l√©ment - Canvas par exemple - avec la fr√©quence d'affichage du navigateur) et surtout les WebSockets.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	J'assure la compatibilit√© avec l'ensemble des navigateurs √† grand renfort de polyfills. Cette m√©thode √† l'avantage de garder des sources propres et standards et de bien s√©parer le code en lui m√™me de ce qui sert √† la compatibilit√©. Par contre je n'ai toujours pas test√© sous Safari ou IE, il faudra que je m'en occupe un jour (mais il est peu probable que je perde mon temps avec IE8).&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	La map du jeu est constitu√©e de deux fichiers qui sont des images gif tout ce qu'il y a de plus standard. L'une contient la partie visible de la map (le d√©cor) tandis que l'autre est son &quot;ombre&quot; en quelque sorte, qui servira a g√©rer la physique. Aujourd'hui, ce second fichier contient du noir pour les parties solides, et du transparent pour le vide. En jouant sur les codes couleur, je pourrais par la suite ajouter facilement des fonctionnalit√©s un peu plus pouss√©es (zones qui peuvent √™tre d√©truites, zones d'eau, zones mortelles ...).&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;
	&lt;a href=&quot;images/jeu1/scene.gif&quot; rel=&quot;lightbox&quot;&gt;&lt;img alt=&quot;Partie visible de la map&quot; src=&quot;images/jeu1/scene.gif&quot; style=&quot;width: 250px;&quot; /&gt;&lt;/a&gt; &lt;a href=&quot;images/jeu1/walls.gif&quot; rel=&quot;lightbox&quot;&gt;&lt;img alt=&quot;Partie invisible de la map&quot; src=&quot;images/jeu1/walls.gif&quot; style=&quot;width: 250px;&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
	&lt;span style=&quot;font-size: 10px;&quot;&gt;A gauche la partie visible de la map. A droite, celle permettant la gestion de la physique.&lt;/span&gt;&lt;br /&gt;
	&lt;span style=&quot;font-size: 10px;&quot;&gt;(L'image n'est pas de moi, elle vient d'&lt;a href=&quot;http://opengameart.org/content/several-scrolling-backgrounds-and-layerable-runners&quot;&gt;ici&lt;/a&gt;.&lt;/span&gt;)&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	C√¥t√© serveur, c'est du Java. Le serveur HTTP est int√©gr√© dans l'application (pas besoin d'installer Apache ou autre) pour permettre notamment le chargement dynamique des deux images de la map lorsqu'un client se connecte en cours de partie (je pr√©vois que le terrain puisse subir des d√©g√¢ts). Avec un serveur externe, ca aurait √©t√© plus compliqu√© √† mettre en oeuvre.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	Au d√©but, j'avais opt√© pour un serveur HTTP tr√®s simple et fait √† la main, avec une librairie pour g√©rer les websockets. Le probl√®me de cette solution, c'est qu'il fallait occuper deux ports pour les deux serveurs (alors que le protocole websockets s'implante normalement sur HTTP), que je ne connaissait absolument pas le fonctionnement interne de la librairie, et qu'il allait falloir g√©rer le multi-threading du serveur HTTP (c'√©tait des sockets en java.io).&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	Apr√®s quelques prises de t√™te avec java.nio (qui peut faire des sockets de mani√®re asynchrone, et donc sans devoir cr√©er un thread par client), j'ai finalement opt√© pour la librairie Grizzly. Son utilisation est simple, elle utilise java.nio et elle s'int√®gre comme une simple librairie, sans devoir cr√©er 50 fichiers de configuration ou √©crire trois pages de code suppl√©mentaires.&lt;/p&gt;
</description>
				<pubDate>2012-09-24T01:24:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
					<item>
				<title>D√©marrage du blog</title>
				<link>http://www.sebastien.caparros.me/demarrage-du-blog.html</link>
				<guid>http://www.sebastien.caparros.me/demarrage-du-blog.html</guid>
				<description>&lt;time datetime=&quot;2012-09-22T19:58:00&quot;&gt;22/09/2012 at 19:58:00&lt;/time&gt;
&lt;h1&gt;D√©marrage du blog&lt;/h1&gt;

&lt;p style=&quot;text-align: center;&quot;&gt;
	&lt;a href=&quot;images/Raspberry%20PI.jpg&quot; rel=&quot;lightbox&quot;&gt;&lt;img alt=&quot;Photo du Raspberry PI&quot; src=&quot;images/Raspberry%20PI.jpg&quot; style=&quot;width: 320px; height: 203px;&quot; /&gt;&lt;/a&gt;&lt;br /&gt;
	&lt;span style=&quot;font-size:9px;&quot;&gt;(Photo honteusement copi√©e sur Wikip√©dia puisque j'ai la flemme d'en prendre une ...)&lt;/span&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	Maintenant que je dispose de mon Raspberry PI, qu'il est install√© et configur√©, il est temps de m'atteler √† la cr√©ation de ce blog.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	Apr√®s quelques recherches, j'ai opt√© pour PluXML qui √† l'avantage d'√™tre simple et l√©ger, mais quand m√™me assez complet puisqu'il propose m√™me un syst√®me de plugins.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	Il va √™tre install√© sur un serveur Lighttpd accompagn√© de PHP, sur la distribution Raspian. J'aurais bien voulu en profiter pour essayer s√©rieusement SliTaz (pour ceux qui ne connaissent pas, c'est une distribution linux de 32 Mo et qui contient vraiment tout ce qu'il faut, y compris une interface graphique compl√®te), mais ce n'est pas (encore) adapt√© pour ce type de machine (je crois qu'ils n'ont tout simplement pas de binaires pour les processeurs ARM).&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	Au d√©but, j'avais envisag√© d'utiliser un g√©n√©rateur de blogs statiques (du style Pelican), accompagn√© de Disqus ou IntenseDebate pour les commentaires. Ca m'aurait permis d'√©viter la surcouche PHP pour √©conomiser encore plus les ressources, mais c'est plut√¥t gal√®re √† installer et √† maintenir. Et si je peux √©viter de d√©dier le syst√®me de commentaires √† un service externe, c'est pas plus mal.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;
	En dehors de pr√©senter l'actualit√© de mes activit√©s en mati√®re de d√©veloppement de jeux, j'ai aussi pr√©vu de pr√©senter&amp;nbsp; tout ce que j'ai d√©j√† fait. Il va me falloir beaucoup de temps pour rattraper le retard, du coup je ne sais pas encore si je vais tout faire d'un seul coup ou si je le ferais petit √† petit.&lt;/p&gt;
</description>
				<pubDate>2012-09-22T19:58:00</pubDate>
				<dc:creator>S√©bastien CAPARROS</dc:creator>
			</item>
		</channel>
</rss>
